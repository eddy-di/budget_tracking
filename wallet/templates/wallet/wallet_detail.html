{% extends 'base.html' %}

{% block content %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <h1>Wallet details for {{ wallet.name }}</h1>
      <div class="wallet_info" style="float: left;">
        <p>
            Total spendings: {{ spending_sum }}
        </p>
        <p>
            Total earnings: {{ earning_sum }}
        </p>
        {% if difference > 0 %}
          <p style="color: MediumSeaGreen;">
            Difference: {{ difference }}
          </p>
        {% else %}
          <p style="color: tomato;">
            Difference: {{ difference }}
          </p>
        {% endif %}
        <p>
          <a href="{% url 'wallet:spending_list' wallet_id=wallet.id %}">
              Spendings
          </a>
        </p>
        <p>
          <a href="{% url 'wallet:earning_list' wallet_id=wallet.id %}">
              Earnings
          </a>
        </p>
      </div>
      <div class="wallet_doughnut_chart_info">
          <canvas id="myChart"></canvas>
      </div>
      <div class="wallet_info" style="background-color: rgb(153, 29, 224);">
        <p>
          some info
        </p>
      </div>
      <div class="wallet_info" style="background-color: rgb(12, 126, 120);">
        <p>
          some info 2
        </p>
      </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      
    <script>
        const ctx = document.getElementById('myChart');
      
        new Chart(ctx, {
          type: 'doughnut',
          data: {
            labels: ['Spending', 'Earning'],
            datasets: [{
              label: 'Total sum',
              data: {{ data|safe }},
              borderWidth: 1,
              backgroundColor: ['#FF6384', '#36A2EB'],
              hoverBackgroundColor: ['#F54165', '#1D97E9'],
            }]
          },
          options: {
            plugins: {
              legend: {
                position: 'bottom'
              }
            }
          }
        });
    </script>
      
{% endblock %}


